<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<button onclick="test3()">试试</button>
		<script>
			// 模板字符串的字符串插值
			function test1() {
				let value = 5;
				console.log(`value = ${value}`);
				
				let foo = {toString: () => 'World'};
				console.log(`Hello, ${foo}`);
			}
			test1();
			
			function greet(arg1, arg2, arg3) {
				console.log(arg1);
				console.log(arg2);
				console.log(arg3);
			}
			
			// 模板字符串的标签函数
			// 标签函数的第一个参数是被嵌入表达式分隔的文本的数组。第二个参数开始是嵌入表达式的内容。
			function test2() {
				let name = 'Martin';
				let age = 18;
				greet `I'm ${name}. I'm ${age} years old.`;
			}
			test2();
			
			function test3() {
				let message1 = {
					body: null
				};
				let message2 = {
					body: {
						user: {
							firstName: "Martin"
						}
					}
				};
				printOut(message1);
				printOut(message2);
			}
			
			function printOut(message) {
				// 下面这句会报错：Cannot read property 'user' of null
				// let firstName = message.body.user.firstName;
			
				// 所以要进行如下判断，但这种写法太繁琐
				// let firstName = (message &&
				// 	message.body &&
				// 	message.body.user &&
				// 	message.body.user.firstName) || 'default';
			
				// ES2020引入新的运算符: ?.
				let firstName = message?.body?.user?.firstName || 'default';
				console.log(firstName)
			}
			
		</script>
	</body>
</html>
